#include<stdio.h>
#include<pthread.h>
int d=0;
pthread_mutex_t mutex;
void *even(void *ptr)
{
    pthread_mutex_lock(&mutex);
    do{
        if(d%2==0){
            printf("even:%d\n",d);
            d++;
        }
        else
            pthread_mutex_unlock(&mutex);
    }while(d<=100);
}
void *odd(void *ptr)
{
    pthread_mutex_lock(&mutex);
    do{
        if(d%2!=0){
            printf("odd:%d\n",d);
            d++;
        }
        else
            pthread_mutex_unlock(&mutex);
    }while(d<=100);
}
int main()
{
    pthread_t tid[2];
    pthread_create(&tid[0],NULL,odd,NULL);
    pthread_create(&tid[1],NULL,even,NULL);
    pthread_join(tid[0],NULL);
    pthread_join(tid[1],NULL);
}
